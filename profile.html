<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profile - Social Media</title>
    <link rel="stylesheet" href="css/styles.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>

<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <a href="index.html">
                    <i class="fas fa-home"></i>
                    SocialApp
                </a>
            </div>
            <div class="nav-links">
                <a href="index.html" class="nav-link">
                    <i class="fas fa-home"></i>
                    Home
                </a>
                <a href="post.html" class="nav-link">
                    <i class="fas fa-plus"></i>
                    Create Post
                </a>
                <a href="profile.html" class="nav-link active">
                    <i class="fas fa-user"></i>
                    Profile
                </a>
                <button id="logoutBtn" class="nav-link logout-btn">
                    <i class="fas fa-sign-out-alt"></i>
                    Logout
                </button>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Profile Header -->
        <section class="profile-header">
            <div class="profile-banner" id="profileBanner">
                <img id="bannerImage" src="" alt="Profile Banner" class="banner-image">
                <button id="editBannerBtn" class="edit-banner-btn" style="display: none;">
                    <i class="fas fa-camera"></i>
                </button>
            </div>

            <div class="profile-info">
                <div class="profile-avatar-container">
                    <img id="profileAvatar" src="" alt="Profile Avatar" class="profile-avatar">
                    <button id="editAvatarBtn" class="edit-avatar-btn" style="display: none;">
                        <i class="fas fa-camera"></i>
                    </button>
                </div>

                <div class="profile-details">
                    <div class="profile-main-info">
                        <h1 id="profileName" class="profile-name">Loading...</h1>
                        <p id="profileEmail" class="profile-email">Loading...</p>
                        <p id="profileBio" class="profile-bio">No bio available</p>
                    </div>

                    <div class="profile-stats">
                        <div class="stat">
                            <span id="postsCount" class="stat-number">0</span>
                            <span class="stat-label">Posts</span>
                        </div>
                        <div class="stat">
                            <span id="followersCount" class="stat-number">0</span>
                            <span class="stat-label">Followers</span>
                        </div>
                        <div class="stat">
                            <span id="followingCount" class="stat-number">0</span>
                            <span class="stat-label">Following</span>
                        </div>
                    </div>

                    <div class="profile-actions">
                        <button id="editProfileBtn" class="btn btn-primary" style="display: none;">
                            <i class="fas fa-edit"></i>
                            Edit Profile
                        </button>
                        <button id="followBtn" class="btn btn-secondary" style="display: none;">
                            <i class="fas fa-user-plus"></i>
                            Follow
                        </button>
                        <button id="unfollowBtn" class="btn btn-outline" style="display: none;">
                            <i class="fas fa-user-minus"></i>
                            Unfollow
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Profile Navigation -->
        <section class="profile-nav">
            <button class="profile-nav-btn active" data-tab="posts">
                <i class="fas fa-th-large"></i>
                Posts
            </button>
            <button class="profile-nav-btn" data-tab="followers">
                <i class="fas fa-users"></i>
                Followers
            </button>
            <button class="profile-nav-btn" data-tab="following">
                <i class="fas fa-user-friends"></i>
                Following
            </button>
        </section>

        <!-- Profile Content -->
        <section class="profile-content">
            <!-- Posts Tab -->
            <div id="postsTab" class="profile-tab active">
                <div class="posts-grid" id="userPosts">
                    <!-- User posts will be loaded here -->
                </div>
                <div class="loading" id="postsLoading" style="display: none;">
                    <i class="fas fa-spinner fa-spin"></i>
                    Loading posts...
                </div>
                <div class="no-posts" id="noPosts" style="display: none;">
                    <i class="fas fa-image"></i>
                    <p>No posts yet</p>
                </div>
            </div>

            <!-- Followers Tab -->
            <div id="followersTab" class="profile-tab">
                <div class="users-grid" id="followersList">
                    <!-- Followers will be loaded here -->
                </div>
                <div class="loading" id="followersLoading" style="display: none;">
                    <i class="fas fa-spinner fa-spin"></i>
                    Loading followers...
                </div>
                <div class="no-users" id="noFollowers" style="display: none;">
                    <i class="fas fa-user"></i>
                    <p>No followers yet</p>
                </div>
            </div>

            <!-- Following Tab -->
            <div id="followingTab" class="profile-tab">
                <div class="users-grid" id="followingList">
                    <!-- Following will be loaded here -->
                </div>
                <div class="loading" id="followingLoading" style="display: none;">
                    <i class="fas fa-spinner fa-spin"></i>
                    Loading following...
                </div>
                <div class="no-users" id="noFollowing" style="display: none;">
                    <i class="fas fa-user"></i>
                    <p>Not following anyone yet</p>
                </div>
            </div>
        </section>
    </main>

    <!-- Edit Profile Modal -->
    <div id="editProfileModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Edit Profile</h2>
                <span class="close-modal" id="closeEditModal">
                    <i class="fas fa-times"></i>
                </span>
            </div>
            <div class="modal-body">
                <form id="editProfileForm">
                    <div class="form-group">
                        <label for="editBio">Bio</label>
                        <textarea id="editBio" name="bio" placeholder="Tell us about yourself..." rows="4"></textarea>
                    </div>

                    <div class="form-group">
                        <label for="editAvatarUrl">Avatar URL</label>
                        <input type="url" id="editAvatarUrl" name="avatarUrl"
                            placeholder="https://example.com/avatar.jpg">
                    </div>

                    <div class="form-group">
                        <label for="editBannerUrl">Banner URL</label>
                        <input type="url" id="editBannerUrl" name="bannerUrl"
                            placeholder="https://example.com/banner.jpg">
                    </div>

                    <div class="form-actions">
                        <button type="button" class="btn btn-secondary" id="cancelEdit">Cancel</button>
                        <button type="submit" class="btn btn-primary">
                            <i class="fas fa-save"></i>
                            Save Changes
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Post Details Modal -->
    <div id="postModal" class="modal">
        <div class="modal-content post-modal-content">
            <div class="modal-header">
                <h2>Post Details</h2>
                <span class="close-modal" id="closePostModal">
                    <i class="fas fa-times"></i>
                </span>
            </div>
            <div class="modal-body" id="postModalBody">
                <!-- Post details will be loaded here -->
            </div>
        </div>
    </div>

    <!-- Error/Success Messages -->
    <div id="messageContainer" class="message-container"></div>

    <!-- Loading Overlay -->
    <div id="loadingOverlay" class="loading-overlay">
        <div class="loading-spinner">
            <i class="fas fa-spinner fa-spin"></i>
            <p>Loading profile...</p>
        </div>
    </div>

    <!-- JavaScript -->
    <script type="module" src="js/profile.js"></script>
</body>

</html>